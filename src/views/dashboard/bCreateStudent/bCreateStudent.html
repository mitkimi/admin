<div class="page" v-loading="loading">
  <div class="my-students-table" v-if="onceList.length>0">
    <div class="title">新录入学员</div>
    <div class="gec-table-header gec-table">
      <div class="gec-tr">
        <div class="name">
          姓名
        </div>
        <div class="info">
          <div class="info-item">
            <div class="school">申请学校</div>
            <div class="mentor">导师</div>
            <div class="ddl">网申DDL</div>
            <div class="ops">
              操作
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="gec-t-body gec-table">
      <div class="gec-tr" v-for="item,studentIndex in onceList">
        <div class="name">
            {{item.studentName}}
        </div>
        <div class="info">
          <div class="info-item" v-for="apply,ApplicationIndex in item.applicationList">
            <div class="school">{{apply.applySchoolName}}</div>
            <div class="mentor">{{apply.teacherName}}</div>
            <div class="ddl">{{apply.deadline | momentDay}}</div>
            <div class="ops">
              <i class="el-icon-edit" @click="handleEdit(item.studentId)"></i> &nbsp;
              <el-popover
                placement="top"
                width="160"
                v-model="apply.showDelete">
                <p>确定删除吗？</p>
                <div style="text-align: right; margin: 0">
                  <el-button size="mini" type="text" @click="apply.showDelete = false">取消</el-button>
                  <el-button type="primary" size="mini" @click="handleDestroyListApply(apply.applicationId, studentIndex, ApplicationIndex)">确定</el-button>
                </div>
                <i class="el-icon-delete" slot="reference"></i>
              </el-popover>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="gec-student-form">
    <div class="title">学员信息录入</div>
    <div class="basic-info big-row">
      <div class="name">学员基本信息</div>
      <div class="tiny-row">
        <div class="label">姓名</div>
        <div class="input">
          <el-input v-model="studentsInfo.studentName" placeholder="请输入姓名"></el-input>
        </div>
      </div>
      <div class="tiny-row">
        <div class="label">手机号</div>
        <div class="input">
          <el-input v-model="studentsInfo.studentPhone" placeholder="请输入手机号"></el-input>
        </div>
      </div>
    </div>
    <div class="school-info big-row">
      <div class="name">学校信息</div>
      <div class="school-item" v-for="apply,index in studentsInfo.applicationList" :key="index">
        <div class="tiny-row">
          <div class="label">项目名称</div>
          <div class="input required">
            <el-input v-model="apply.projectName" placeholder="请输入项目名称"></el-input>
          </div>
        </div>
        <div class="tiny-row">
          <div class="label">申请学校</div>
          <div class="input required">
            <el-input v-model="apply.applySchoolName" placeholder="请输入申请学校"></el-input>
          </div>
        </div>
        <div class="tiny-row">
          <div class="label">推荐人</div>
          <div class="input required">
            <el-input v-model="apply.teacherName" placeholder="请输入推荐人"></el-input>
          </div>
        </div>
        <div class="tiny-row">
          <div class="label">DDL</div>
          <div class="input">
            <el-date-picker
              v-model="apply.deadline"
              type="date"
              placeholder="选择日期"
              style="width: 100%">
            </el-date-picker>
          </div>
        </div>
        <div class="del-school-btn" @click="handleDeleteListItem(index)"><i class="el-icon-close"></i> 删除</div>
      </div>
      <div class="add-school-btn" @click="handleCopyApply">
        + 添加一个学校
      </div>
      <div style="clear:both"></div>
      <div class="actions">
        <div class="save-btn" @click="handleCreateSubmit">
          保存
        </div>
      </div>
    </div>
  </div>
</div>
